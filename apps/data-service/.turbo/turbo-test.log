
> test
> pip install -r requirements.txt && pytest

Requirement already satisfied: fastapi>=0.110.0 in /home/akenator/miniconda3/lib/python3.13/site-packages (from -r requirements.txt (line 1)) (0.128.0)
Requirement already satisfied: uvicorn>=0.23.0 in /home/akenator/miniconda3/lib/python3.13/site-packages (from uvicorn[standard]>=0.23.0->-r requirements.txt (line 2)) (0.40.0)
Requirement already satisfied: pydantic>=2.2.0 in /home/akenator/miniconda3/lib/python3.13/site-packages (from -r requirements.txt (line 3)) (2.12.5)
Requirement already satisfied: pytest>=8.5.0 in /home/akenator/miniconda3/lib/python3.13/site-packages (from -r requirements.txt (line 4)) (9.0.2)
Requirement already satisfied: pytest-asyncio>=0.23.0 in /home/akenator/miniconda3/lib/python3.13/site-packages (from -r requirements.txt (line 5)) (1.3.0)
Requirement already satisfied: httpx>=0.25.0 in /home/akenator/miniconda3/lib/python3.13/site-packages (from -r requirements.txt (line 6)) (0.28.1)
Requirement already satisfied: loguru>=0.7.0 in /home/akenator/miniconda3/lib/python3.13/site-packages (from -r requirements.txt (line 7)) (0.7.3)
Requirement already satisfied: beautifulsoup4>=4.12.0 in /home/akenator/miniconda3/lib/python3.13/site-packages (from -r requirements.txt (line 8)) (4.14.3)
Requirement already satisfied: google-generativeai>=0.3.0 in /home/akenator/miniconda3/lib/python3.13/site-packages (from -r requirements.txt (line 9)) (0.8.6)
Requirement already satisfied: duckduckgo_search>=5.3.1 in /home/akenator/miniconda3/lib/python3.13/site-packages (from -r requirements.txt (line 10)) (8.1.1)
Requirement already satisfied: starlette<0.51.0,>=0.40.0 in /home/akenator/miniconda3/lib/python3.13/site-packages (from fastapi>=0.110.0->-r requirements.txt (line 1)) (0.50.0)
Requirement already satisfied: typing-extensions>=4.8.0 in /home/akenator/miniconda3/lib/python3.13/site-packages (from fastapi>=0.110.0->-r requirements.txt (line 1)) (4.15.0)
Requirement already satisfied: annotated-doc>=0.0.2 in /home/akenator/miniconda3/lib/python3.13/site-packages (from fastapi>=0.110.0->-r requirements.txt (line 1)) (0.0.4)
Requirement already satisfied: anyio<5,>=3.6.2 in /home/akenator/miniconda3/lib/python3.13/site-packages (from starlette<0.51.0,>=0.40.0->fastapi>=0.110.0->-r requirements.txt (line 1)) (4.12.0)
Requirement already satisfied: idna>=2.8 in /home/akenator/miniconda3/lib/python3.13/site-packages (from anyio<5,>=3.6.2->starlette<0.51.0,>=0.40.0->fastapi>=0.110.0->-r requirements.txt (line 1)) (3.11)
Requirement already satisfied: click>=7.0 in /home/akenator/miniconda3/lib/python3.13/site-packages (from uvicorn>=0.23.0->uvicorn[standard]>=0.23.0->-r requirements.txt (line 2)) (8.1.8)
Requirement already satisfied: h11>=0.8 in /home/akenator/miniconda3/lib/python3.13/site-packages (from uvicorn>=0.23.0->uvicorn[standard]>=0.23.0->-r requirements.txt (line 2)) (0.16.0)
Requirement already satisfied: annotated-types>=0.6.0 in /home/akenator/miniconda3/lib/python3.13/site-packages (from pydantic>=2.2.0->-r requirements.txt (line 3)) (0.6.0)
Requirement already satisfied: pydantic-core==2.41.5 in /home/akenator/miniconda3/lib/python3.13/site-packages (from pydantic>=2.2.0->-r requirements.txt (line 3)) (2.41.5)
Requirement already satisfied: typing-inspection>=0.4.2 in /home/akenator/miniconda3/lib/python3.13/site-packages (from pydantic>=2.2.0->-r requirements.txt (line 3)) (0.4.2)
Requirement already satisfied: iniconfig>=1.0.1 in /home/akenator/miniconda3/lib/python3.13/site-packages (from pytest>=8.5.0->-r requirements.txt (line 4)) (2.3.0)
Requirement already satisfied: packaging>=22 in /home/akenator/miniconda3/lib/python3.13/site-packages (from pytest>=8.5.0->-r requirements.txt (line 4)) (25.0)
Requirement already satisfied: pluggy<2,>=1.5 in /home/akenator/miniconda3/lib/python3.13/site-packages (from pytest>=8.5.0->-r requirements.txt (line 4)) (1.5.0)
Requirement already satisfied: pygments>=2.7.2 in /home/akenator/miniconda3/lib/python3.13/site-packages (from pytest>=8.5.0->-r requirements.txt (line 4)) (2.19.2)
Requirement already satisfied: certifi in /home/akenator/miniconda3/lib/python3.13/site-packages (from httpx>=0.25.0->-r requirements.txt (line 6)) (2026.1.4)
Requirement already satisfied: httpcore==1.* in /home/akenator/miniconda3/lib/python3.13/site-packages (from httpx>=0.25.0->-r requirements.txt (line 6)) (1.0.9)
Requirement already satisfied: soupsieve>=1.6.1 in /home/akenator/miniconda3/lib/python3.13/site-packages (from beautifulsoup4>=4.12.0->-r requirements.txt (line 8)) (2.8.2)
Requirement already satisfied: google-ai-generativelanguage==0.6.15 in /home/akenator/miniconda3/lib/python3.13/site-packages (from google-generativeai>=0.3.0->-r requirements.txt (line 9)) (0.6.15)
Requirement already satisfied: google-api-core in /home/akenator/miniconda3/lib/python3.13/site-packages (from google-generativeai>=0.3.0->-r requirements.txt (line 9)) (2.28.1)
Requirement already satisfied: google-api-python-client in /home/akenator/miniconda3/lib/python3.13/site-packages (from google-generativeai>=0.3.0->-r requirements.txt (line 9)) (2.187.0)
Requirement already satisfied: google-auth>=2.15.0 in /home/akenator/miniconda3/lib/python3.13/site-packages (from google-generativeai>=0.3.0->-r requirements.txt (line 9)) (2.47.0)
Requirement already satisfied: protobuf in /home/akenator/miniconda3/lib/python3.13/site-packages (from google-generativeai>=0.3.0->-r requirements.txt (line 9)) (5.29.5)
Requirement already satisfied: tqdm in /home/akenator/miniconda3/lib/python3.13/site-packages (from google-generativeai>=0.3.0->-r requirements.txt (line 9)) (4.67.1)
Requirement already satisfied: proto-plus<2.0.0dev,>=1.22.3 in /home/akenator/miniconda3/lib/python3.13/site-packages (from google-ai-generativelanguage==0.6.15->google-generativeai>=0.3.0->-r requirements.txt (line 9)) (1.27.0)
Requirement already satisfied: googleapis-common-protos<2.0.0,>=1.56.2 in /home/akenator/miniconda3/lib/python3.13/site-packages (from google-api-core->google-generativeai>=0.3.0->-r requirements.txt (line 9)) (1.72.0)
Requirement already satisfied: requests<3.0.0,>=2.18.0 in /home/akenator/miniconda3/lib/python3.13/site-packages (from google-api-core->google-generativeai>=0.3.0->-r requirements.txt (line 9)) (2.32.5)
Requirement already satisfied: grpcio<2.0.0,>=1.33.2 in /home/akenator/miniconda3/lib/python3.13/site-packages (from google-api-core[grpc]!=2.0.*,!=2.1.*,!=2.10.*,!=2.2.*,!=2.3.*,!=2.4.*,!=2.5.*,!=2.6.*,!=2.7.*,!=2.8.*,!=2.9.*,<3.0.0dev,>=1.34.1->google-ai-generativelanguage==0.6.15->google-generativeai>=0.3.0->-r requirements.txt (line 9)) (1.76.0)
Requirement already satisfied: grpcio-status<2.0.0,>=1.33.2 in /home/akenator/miniconda3/lib/python3.13/site-packages (from google-api-core[grpc]!=2.0.*,!=2.1.*,!=2.10.*,!=2.2.*,!=2.3.*,!=2.4.*,!=2.5.*,!=2.6.*,!=2.7.*,!=2.8.*,!=2.9.*,<3.0.0dev,>=1.34.1->google-ai-generativelanguage==0.6.15->google-generativeai>=0.3.0->-r requirements.txt (line 9)) (1.71.2)
Requirement already satisfied: pyasn1-modules>=0.2.1 in /home/akenator/miniconda3/lib/python3.13/site-packages (from google-auth>=2.15.0->google-generativeai>=0.3.0->-r requirements.txt (line 9)) (0.4.2)
Requirement already satisfied: rsa<5,>=3.1.4 in /home/akenator/miniconda3/lib/python3.13/site-packages (from google-auth>=2.15.0->google-generativeai>=0.3.0->-r requirements.txt (line 9)) (4.9.1)
Requirement already satisfied: charset_normalizer<4,>=2 in /home/akenator/miniconda3/lib/python3.13/site-packages (from requests<3.0.0,>=2.18.0->google-api-core->google-generativeai>=0.3.0->-r requirements.txt (line 9)) (3.4.4)
Requirement already satisfied: urllib3<3,>=1.21.1 in /home/akenator/miniconda3/lib/python3.13/site-packages (from requests<3.0.0,>=2.18.0->google-api-core->google-generativeai>=0.3.0->-r requirements.txt (line 9)) (2.5.0)
Requirement already satisfied: pyasn1>=0.1.3 in /home/akenator/miniconda3/lib/python3.13/site-packages (from rsa<5,>=3.1.4->google-auth>=2.15.0->google-generativeai>=0.3.0->-r requirements.txt (line 9)) (0.6.1)
Requirement already satisfied: primp>=0.15.0 in /home/akenator/miniconda3/lib/python3.13/site-packages (from duckduckgo_search>=5.3.1->-r requirements.txt (line 10)) (0.15.0)
Requirement already satisfied: lxml>=5.3.0 in /home/akenator/miniconda3/lib/python3.13/site-packages (from duckduckgo_search>=5.3.1->-r requirements.txt (line 10)) (6.0.2)
Requirement already satisfied: httptools>=0.6.3 in /home/akenator/miniconda3/lib/python3.13/site-packages (from uvicorn[standard]>=0.23.0->-r requirements.txt (line 2)) (0.7.1)
Requirement already satisfied: python-dotenv>=0.13 in /home/akenator/miniconda3/lib/python3.13/site-packages (from uvicorn[standard]>=0.23.0->-r requirements.txt (line 2)) (1.2.1)
Requirement already satisfied: pyyaml>=5.1 in /home/akenator/miniconda3/lib/python3.13/site-packages (from uvicorn[standard]>=0.23.0->-r requirements.txt (line 2)) (6.0.3)
Requirement already satisfied: uvloop>=0.15.1 in /home/akenator/miniconda3/lib/python3.13/site-packages (from uvicorn[standard]>=0.23.0->-r requirements.txt (line 2)) (0.22.1)
Requirement already satisfied: watchfiles>=0.13 in /home/akenator/miniconda3/lib/python3.13/site-packages (from uvicorn[standard]>=0.23.0->-r requirements.txt (line 2)) (1.1.1)
Requirement already satisfied: websockets>=10.4 in /home/akenator/miniconda3/lib/python3.13/site-packages (from uvicorn[standard]>=0.23.0->-r requirements.txt (line 2)) (15.0.1)
Requirement already satisfied: httplib2<1.0.0,>=0.19.0 in /home/akenator/miniconda3/lib/python3.13/site-packages (from google-api-python-client->google-generativeai>=0.3.0->-r requirements.txt (line 9)) (0.31.0)
Requirement already satisfied: google-auth-httplib2<1.0.0,>=0.2.0 in /home/akenator/miniconda3/lib/python3.13/site-packages (from google-api-python-client->google-generativeai>=0.3.0->-r requirements.txt (line 9)) (0.3.0)
Requirement already satisfied: uritemplate<5,>=3.0.1 in /home/akenator/miniconda3/lib/python3.13/site-packages (from google-api-python-client->google-generativeai>=0.3.0->-r requirements.txt (line 9)) (4.2.0)
Requirement already satisfied: pyparsing<4,>=3.0.4 in /home/akenator/miniconda3/lib/python3.13/site-packages (from httplib2<1.0.0,>=0.19.0->google-api-python-client->google-generativeai>=0.3.0->-r requirements.txt (line 9)) (3.2.5)
============================= test session starts ==============================
platform linux -- Python 3.13.9, pytest-9.0.2, pluggy-1.5.0
rootdir: /home/akenator/PROYECTOS/GRANTER 2.0/apps/data-service
configfile: pyproject.toml
plugins: asyncio-1.3.0, anyio-4.12.0, mock-3.12.0, cov-4.1.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 34 items

src/tests/test_discovery_service.py ...                                  [  8%]
src/tests/test_ia_router.py ......                                       [ 26%]
src/tests/test_ia_service.py ...........                                 [ 58%]
src/tests/test_retry_manager.py ..............                           [100%]

=============================== warnings summary ===============================
../../../../miniconda3/lib/python3.13/importlib/metadata/__init__.py:1046
  /home/akenator/miniconda3/lib/python3.13/importlib/metadata/__init__.py:1046: DeprecationWarning: Implicit None on return values is deprecated and will raise KeyErrors.
    pkg_to_dist[pkg].append(dist.metadata['Name'])

src/services/ia_service.py:30
  /home/akenator/PROYECTOS/GRANTER 2.0/apps/data-service/src/services/ia_service.py:30: FutureWarning: 
  
  All support for the `google.generativeai` package has ended. It will no longer be receiving 
  updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
  See README for more details:
  
  https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
  
    import google.generativeai as genai

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
======================== 34 passed, 2 warnings in 4.44s ========================
